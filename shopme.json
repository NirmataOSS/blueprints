{
	"name": "shopme",
	"description": "A Microservices architecture style shopping application.",
	"services": [
		{
			"name": "orders",
			"imageRepository": "nirmata/orders",
			"serviceSpec": [
				{
					"runCommand": "",
					"hostname": "",
					"volumeMappings": [],
					"isPrivileged": false,
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			],
			"requiredBy": [
				{
					"name": "customer"
				}
			]
		},
		{
			"name": "customer",
			"imageRepository": "nirmata/customer",
			"serviceSpec": [
				{
					"runCommand": "",
					"hostname": "",
					"volumeMappings": [],
					"isPrivileged": false,
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			],
			"dependsOn": [
				{
					"name": "orders"
				},
				{
					"name": "catalog"
				},
				{
					"name": "deals"
				},
				{
					"name": "loyalty"
				},
				{
					"name": "payment"
				},
				{
					"name": "ratings"
				},
				{
					"name": "recommendations"
				},
				{
					"name": "wishlist"
				}
			]
		},
		{
			"name": "catalog",
			"imageRepository": "nirmata/catalog",
			"serviceSpec": [
				{
					"runCommand": "",
					"hostname": "",
					"volumeMappings": [],
					"isPrivileged": false,
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			],
			"requiredBy": [
				{
					"name": "customer"
				}
			]
		},
		{
			"name": "shopme-gateway",
			"imageRepository": "nirmata/nirmata-gateway",
			"tag": "latest",
			"serviceSpec": [
				{
					"hostname": "",
					"volumeMappings": [
						"/usr/share/nirmata/ssl:/usr/share/nirmata/ssl"
					],
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			]
		},
		{
			"name": "deals",
			"imageRepository": "nirmata/deals",
			"tag": "latest",
			"serviceSpec": [
				{
					"runCommand": "",
					"hostname": "",
					"volumeMappings": [],
					"isPrivileged": false,
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			],
			"requiredBy": [
				{
					"name": "customer"
				}
			]
		},
		{
			"name": "loyalty",
			"imageRepository": "nirmata/loyalty",
			"tag": "latest",
			"serviceSpec": [
				{
					"runCommand": "",
					"hostname": "",
					"volumeMappings": [],
					"isPrivileged": false,
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			],
			"requiredBy": [
				{
					"name": "customer"
				}
			]
		},
		{
			"name": "payment",
			"imageRepository": "nirmata/payment",
			"serviceSpec": [
				{
					"runCommand": "",
					"hostname": "",
					"volumeMappings": [],
					"isPrivileged": false,
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			],
			"requiredBy": [
				{
					"name": "customer"
				}
			]
		},
		{
			"name": "ratings",
			"imageRepository": "nirmata/ratings",
			"tag": "latest",
			"serviceSpec": [
				{
					"runCommand": "",
					"hostname": "",
					"volumeMappings": [],
					"isPrivileged": false,
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			],
			"requiredBy": [
				{
					"name": "customer"
				}
			]
		},
		{
			"name": "recommendations",
			"imageRepository": "nirmata/recommendations",
			"tag": "latest",
			"serviceSpec": [
				{
					"runCommand": "",
					"hostname": "",
					"volumeMappings": [],
					"isPrivileged": false,
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			],
			"requiredBy": [
				{
					"name": "customer"
				}
			]
		},
		{
			"name": "wishlist",
			"imageRepository": "nirmata/wishlist",
			"tag": "latest",
			"serviceSpec": [
				{
					"runCommand": "",
					"hostname": "",
					"volumeMappings": [],
					"isPrivileged": false,
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			],
			"requiredBy": [
				{
					"name": "customer"
				}
			]
		},
		{
			"name": "webclient",
			"imageRepository": "nirmata/shopui",
			"tag": "latest",
			"serviceSpec": [
				{
					"runCommand": "",
					"hostname": "",
					"volumeMappings": [],
					"isPrivileged": false,
					"dns": [],
					"networkMode": "bridge",
					"enableServiceNetworking": true,
					"properties": {},
					"loggingOptions": {},
					"portMappings": [
						{
							"containerPort": 80,
							"type": "HTTP",
							"hostPort": 0,
							"name": "HTTP",
							"enableServiceNetworking": false,
							"healthChecks": [
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								},
								{
									"type": "TCP",
									"startDelay": 10,
									"checkInterval": 10,
									"checkTimeout": 10,
									"failureThreshold": 3,
									"successThreshold": 1
								}
							]
						}
					],
					"healthCheck": [
						{
							"type": "TCP",
							"startDelay": 10,
							"checkInterval": 10,
							"checkTimeout": 10,
							"failureThreshold": 3,
							"successThreshold": 1,
							"endpoint": [
								{
									"containerPort": 80
								}
							]
						}
					]
				}
			],
			"healthCheck": [
				{
					"type": "TCP",
					"startDelay": 10,
					"checkInterval": 10,
					"checkTimeout": 10,
					"failureThreshold": 3,
					"successThreshold": 1,
					"endpoint": [
						{
							"containerPort": 80
						}
					]
				}
			],
			"containerType": [
				{
					"name": "nolimits"
				}
			]
		}
	],
	"gatewayPolicy": [
		{
			"redirectHttp": false,
			"rules": [
				{
					"type": "urlRoute",
					"route": "/orders",
					"toService": "orders",
					"toPort": 80,
					"toPortType": "HTTP"
				},
				{
					"type": "urlRoute",
					"route": "/customer",
					"toService": "customer",
					"toPort": 80,
					"toPortType": "HTTP"
				},
				{
					"type": "urlRoute",
					"route": "/catalog",
					"toService": "catalog",
					"toPort": 80,
					"toPortType": "HTTP"
				},
				{
					"type": "urlRoute",
					"route": "/deals",
					"toService": "deals",
					"toPort": 80,
					"toPortType": "HTTP"
				},
				{
					"type": "urlRoute",
					"route": "/loyalty",
					"toService": "loyalty",
					"toPort": 80,
					"toPortType": "HTTP"
				},
				{
					"type": "urlRoute",
					"route": "/payment",
					"toService": "payment",
					"toPort": 80,
					"toPortType": "HTTP"
				},
				{
					"type": "urlRoute",
					"route": "/ratings",
					"toService": "ratings",
					"toPort": 80,
					"toPortType": "HTTP"
				},
				{
					"type": "urlRoute",
					"route": "/recommendations",
					"toService": "recommendations",
					"toPort": 80,
					"toPortType": "HTTP"
				},
				{
					"type": "urlRoute",
					"route": "/wishlist",
					"toService": "wishlist",
					"toPort": 80,
					"toPortType": "HTTP"
				},
				{
					"type": "urlRoute",
					"route": "/shopui",
					"toService": "webclient",
					"toPort": 80,
					"toPortType": "HTTP"
				}
			]
		}
	],
	"routingPolicy": [
		{
			"defaultAction": "allow",
			"rules": [
				{
					"fromService": "shopme-gateway",
					"toService": "orders",
					"action": "allow",
					"ruleNumber": 100
				},
				{
					"fromService": "shopme-gateway",
					"toService": "customer",
					"action": "allow",
					"ruleNumber": 100
				},
				{
					"fromService": "shopme-gateway",
					"toService": "catalog",
					"action": "allow",
					"ruleNumber": 100
				},
				{
					"fromService": "shopme-gateway",
					"toService": "deals",
					"action": "allow",
					"ruleNumber": 100
				},
				{
					"fromService": "shopme-gateway",
					"toService": "loyalty",
					"action": "allow",
					"ruleNumber": 100
				},
				{
					"fromService": "shopme-gateway",
					"toService": "payment",
					"action": "allow",
					"ruleNumber": 100
				},
				{
					"fromService": "shopme-gateway",
					"toService": "ratings",
					"action": "allow",
					"ruleNumber": 100
				},
				{
					"fromService": "shopme-gateway",
					"toService": "recommendations",
					"action": "allow",
					"ruleNumber": 100
				},
				{
					"fromService": "shopme-gateway",
					"toService": "wishlist",
					"action": "allow",
					"ruleNumber": 100
				},
				{
					"fromService": "shopme-gateway",
					"toService": "webclient",
					"action": "allow",
					"ruleNumber": 100
				}
			]
		}
	],
	"gateway": [
		{
			"name": "shopme-gateway"
		}
	]
}